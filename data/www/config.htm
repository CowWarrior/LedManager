<!DOCTYPE html><html><head><title>Mini LED Server - Configuration</title><link rel="icon" type="image/x-icon" href="/favicon.ico"></head><body><div class="jumbotron"><div class="container"><h1>Mini LED Server - Configuration</h1><p>Configure your Mini LED Server.</p></div></div><div class="container"><div class="row"><div class="col-md-4"></div><div class="col-md-4"><h2>Config</h2><form action="/api/config" method="POST"><label for="txtSSID">SSID:</label> <input type="text" id="txtSSID" name="txtSSID" value="MyWiFi" required><br><label for="txtPwd">Password:</label> <input type="password" id="txtPwd" name="txtPwd" value="" required><br><label for="txtHostname">Hostname:</label> <input type="text" id="txtHostname" name="txtHostname" value="PIXELART" required><br><input type="button" value="Reload" onclick="loadJSONData()"> <input type="button" value="Save" onclick="postJSONData()"></form></div><div class="col-md-4"></div><div class="row"><div class="col-md-4"></div><div class="col-md-4"><h2>Device</h2><input type="button" value="Reboot" onclick="rebootDevice()"></div><div class="col-md-4"></div><hr><footer><p>Mini LED Server</p></footer></div><script lang="JavaScript">function loadJSONData(){var t=new XMLHttpRequest;t.open("GET","./api/config",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);document.getElementById("txtSSID").value=e.wifi.ssid,document.getElementById("txtHostname").value=e.wifi.hostname}else 4===t.readyState&&alert("Error loading JSON data. Status code: "+t.status)},t.send()}function isFormValid(){var e=document.getElementById("txtSSID").value,t=document.getElementById("txtPwd").value,a=document.getElementById("txtHostname").value;return""!=e&&""!=t&&""!=a}function postJSONData(){if(isFormValid()){var e=document.getElementById("txtSSID").value,t=document.getElementById("txtPwd").value,a=document.getElementById("txtHostname").value,n={ssid:e,pwd:t,hostname:a},o="./api/config?configdata="+JSON.stringify(n),d=new XMLHttpRequest;d.open("POST",o,!0),d.setRequestHeader("Content-Type","application/json"),d.onreadystatechange=function(){4===d.readyState&&200===d.status?alert("Configuration saved! Please restart the device."):4===d.readyState&&alert("Error loading JSON data. Status code: "+d.status)},d.send()}else alert("Please fill all the form fields.")}function rebootDevice(){var e=new XMLHttpRequest;e.open("POST","/api/reboot",!0),e.setRequestHeader("Content-Type","application/json"),e.send(),alert("Rebooting device. It may take up to one minute to re-connect to WiFi..."),window.location.href="/"}document.addEventListener("DOMContentLoaded",function(){loadJSONData()})</script></div></div></body></html>